generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              String   @id @default(cuid())
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  name            String
  email           String   @unique
  telephoneNumber String
  photoUrl        String?
  currentPoints   Int

  userLocation   UserLocation[]
  onboarding     Onboarding[]
  paymentDetails PaymentDetails[]

  @@map("users")
}

model UserLocation {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  latitude  Float
  longitude Float
  userId    String

  user User @relation(fields: [userId], references: [id])
}

model Onboarding {
  id                     String   @id @default(cuid())
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt
  residence              String?
  vancouverArea          String?
  nightlifeType          String?
  outingFrequency        String?
  favouriteInstrument    String?
  drinkOfChoice          String?
  groupOrAlone           String?
  arrivalTime            String?
  appealingPromotion     String?
  notificationPreference String?
  nighlifeEnvironment    String?
  foodImportance         String?
  drinkPreference        String?
  reasonForNightlife     String?
  userId                 String

  user User @relation(fields: [userId], references: [id])

  @@map("onboardings")
}

model PaymentDetails {
  id             String   @id @default(cuid())
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
  paymentMethod  String
  cardNumber     String
  expiryDate     DateTime
  cardHolderName String
  cvc            String
  userId         String

  user User @relation(fields: [userId], references: [id])

  @@map("payment_details")
}
